<html>
<head>
	<title> I Raid </title>
	<style type="text.css">
	body{


	}
	</style>
</head>
	<body bgcolor= "lightgreen" >
	
	<center> <h2> I raid e i controlli </h2> 
	
	<p> Il raid, acronimo di Redundant Array of independent Disks, insieme ridondante di dischi indipendenti,
	    è una tecnica di raggruppamento di diversi dischi rigidi collegati ad un computer che li rende utilizzabili,
	    dalle applicazioni e dall'utente, come se fosse un unico volume di memorizzazione. Tale aggregazione sfrutta,
	    con modalità differenti a seconda del tipo di implementazione, i principi di ridondanza dei dati e di parallelismo
	    nel loro accesso per per garantire, rispetto ad un disco singolo, incrementi di prestazioni, aumenti nella
	    capacità di memorizzazione disponibile, miglioramenti nella tolleranza ai guasti.
	    Il RAID è una tecnica tipicamente impiegata nei server o nelle workstation che richiedano grandi volumi o elevate 
	    prestazioni di immagazzinamento di dati, per esempio per ospitare una base di dati o di una postazione di 
	    montaggio di audio o video digitali. </p>
	    
	    <img src = "raid2.jpg">


				<center><h3> Raid 0 </h3>
	<p>Il sistema RAID 0 divide i dati equamente tra due o più dischi con nessuna informazione di parità o ridondanza (operazione detta di striping). Bisogna 		notare che il RAID-0 non era presente tra i livelli RAID originari, e che non è ridondante. RAID-0 è usato generalmente per aumentare le prestazioni di un 		sistema, anche se è molto utile per creare un piccolo numero di grandi dischi virtuali da un grande numero di piccoli dischi fisici. Sebbene il RAID-0 non sia 	indicato tra i livelli RAID originari, in un sistema ideale di tipo RAID-0 le operazioni di I/O si dividerebbero in blocchi di dimensioni uguali e si 		applicherebbero equamente su tutti i dischi.

	Le implementazioni di sistemi RAID-0 su più di due dischi sono possibili, ma l'affidabilità di un dato sistema RAID-0 è uguale all'affidabilità media dei 		dischi diviso per il numero di dischi presenti. Quindi l'affidabilità, misurata come tempo medio tra due guasti (MTBF), è inversamente proporzionale al numero 	degli elementi; cioè un sistema di due dischi è affidabile la metà di un disco solo. La ragione per la quale questo succede è che il file system è diviso tra 		tutti i dischi. Quando un drive si guasta, il file system non può gestire una perdita di dati così grande visto che i dati sono divisi tra tutti i dischi. I 		dati possono essere spesso recuperati con qualche strumento, anche se saranno sicuramente incompleti e danneggiati.

	RAID-0 è molto utile per creare grandi server NFS in una sola posizione, nei casi nei quali montare molti dischi è dispendioso o impossibile e la ridondanza è 	irrilevante. Si usa anche quando il numero di dischi sia limitato dal sistema operativo. In Microsoft Windows, il numero delle lettere dei dischi è limitato a 	128, così il RAID-0 è un modo molto diffuso per usare un numero maggiore di dischi. Comunque, siccome non c'è ridondanza, i dati sono condivisi tra i dischi e 	i dischi non possono essere sostituiti visto che sono tutti dipendenti tra di loro. Questo tipo di progettazione non è in realtà un vero e proprio RAID, in 		quanto non c'è alcuna ridondanza (Architettura Dei Calcolatori - Tanenbaum).

    Vantaggi: costo economico di implementazione basso, alte prestazioni in scrittura e lettura (grazie al parallelismo delle operazioni I/O dei dischi concatenati).
    Svantaggi: Impossibile montare dischi hot-spare, affidabilità minore di un disco singolo </p>
	
				<center><h3> Raid 1 </h3>
	<p>Il sistema RAID 1 crea una copia esatta (mirror) di tutti i dati su due o più dischi. È utile nei casi in cui la ridondanza è più importante che usare 		tutti i dischi alla loro massima capacità: infatti il sistema può avere una capacità massima pari a quella del disco più piccolo. In un sistema ideale, 		formato da due dischi, l'affidabilità aumenta di un fattore due rispetto al sistema a disco singolo, ma è possibile avere più di una copia dei dischi. Poiché 		ogni disco può essere gestito autonomamente nel caso l'altro si guasti, l'affidabilità aumenta linearmente al numero di dischi presenti. RAID-1 aumenta anche 		le prestazioni in lettura, visto che molte implementazioni possono leggere da un disco mentre l'altro è occupato.

	Una pratica comune è di creare un mirror extra di un disco (detto anche Business Continuance Volume o BCV) che può essere diviso dal sistema RAID originario 		ed essere usato in maniera indipendente. In alcune implementazioni, questi mirror aggiuntivi possono essere divisi e aggiunti in maniera incrementale, invece 		di richiedere una ricostruzione completa del RAID.

    Vantaggi: affidabilità che aumenta linearmente con i mirror implementati, fault tolerance, lettura legata al disco più veloce della struttura RAID.
    Svantaggi: overhead legato al mirror, bassa scalabilità, alto costo (vengono utilizzati più dischi ma se ne sfrutta esclusivamente uno), scrittura legata al disco 	più lento della struttura RAID.</p>

				<center><h3> Raid 2 </h3>
	<p>Un sistema RAID 2 divide i dati al livello di bit (invece che di blocco) e usa un codice di Hamming per la correzione d'errore che permette di correggere 	errori su singoli bit e di rilevare errori doppi. Questi dischi sono sincronizzati dal controllore, in modo tale che la testina di ciascun disco sia nella 	stessa posizione in ogni disco. Questo sistema si rivela molto efficiente in ambienti in cui si verificano numerosi errori di lettura o scrittura, ma in 	ambienti più prestanti, data l'elevata affidabilità dei dischi, il RAID 2 non viene utilizzato. Oggi il RAID 2 viene infatti considerato obsoleto[1].
	</p>
	    	

				<center><h3> Raid 3 </h3>
	<p>Un sistema RAID 3 usa una divisione al livello di byte con un disco dedicato alla parità. Il RAID-3 è estremamente raro nella pratica. Uno degli effetti 	collaterali del RAID-3 è che non può eseguire richieste multiple simultaneamente. Questo perché ogni singolo blocco di dati ha la propria definizione diffusa 	tra tutti i dischi del RAID e risiederà nella stessa locazione, così ogni operazione di I/O richiede di usare tutti i dischi.

	Nell'esempio accanto, una richiesta per il blocco A richiederà di cercare attraverso tutti i dischi. Una richiesta simultanea per il blocco B rimarrà invece 	in attesa.</p>

				<center><h3> Raid 4 </h3>
	<p>Il sistema RAID 4 usa una divisione a livello di blocchi con un disco dedicato alla parità. Il RAID-4 assomiglia molto al RAID-3 con l'eccezione che divide 	i 	dati al livello di blocchi invece che al livello di byte. Questo permette ad ogni disco appartenente al sistema di operare in maniera indipendente 	quando è 	richiesto un singolo blocco. Se il controllore del disco lo permette, un sistema RAID-4 può servire diverse richieste di lettura 	contemporaneamente. In 	lettura la capacità di trasferimento è paragonabile al RAID 0, la scrittura è penalizzata(read-modify-write).

	Nell'esempio accanto, una richiesta al blocco A1 potrebbe essere evasa dal disco 1. Una richiesta simultanea al blocco B1 dovrebbe aspettare, ma una richiesta 	al blocco B2 potrebbe essere servita allo stesso momento.

    Vantaggi: Fault tolerant, read veloci grazie al parallelismo della struttura, possibilità di inserire dischi hot-spare.
    Svantaggi: Il disco utilizzato per la parità può costituire il collo di bottiglia del sistema, scrittura lenta a causa della modifica e del calcolo della parità 	(4 accessi a disco per ogni operazione I/O).</p>

				<center><h3> Raid 5 </h3>

	<p>Un sistema RAID 5 usa una suddivisione dei dati a livello di blocco, distribuendo i dati di parità uniformemente tra tutti i dischi che lo compongono. È 	una 	delle implementazioni più popolari, sia in software, sia in hardware, dove praticamente ogni dispositivo integrato di storage dispone del RAID-5 tra 	le sue 	opzioni.

	Nell'esempio sottostante, una richiesta al blocco A1 potrebbe essere evasa dal disco 1. Una simultanea richiesta per il blocco B1 dovrebbe aspettare, ma una 	richiesta simultanea per il blocco B2 potrebbe essere evasa in contemporanea.
	A1, B2, ecc rappresentano ognuno un blocco di dati.

	Ogni volta che un blocco di dati (chiamato delle volte chunk) deve essere scritto nel sistema di dischi, un blocco di parità viene generato all'interno della 	stripe. (Un blocco è spesso composto da molti settori di disco, delle volte anche 256. Una serie di blocchi consecutivi è chiamato stripe). Se un altro 	blocco, o qualche porzione dello stesso blocco, è scritta nella stessa stripe, il blocco di parità viene ricalcolato e riscritto. Il disco usato per 	memorizzare le parità viene modificato tra una stripe e la successiva; in questo modo si riescono a distribuire i blocchi di parità.

	Bisogna notare che il blocco di parità non viene letto quando si leggono i dati da disco, visto che sarebbero un sovraccarico non necessario e diminuirebbe le 	prestazioni. Il blocco di parità è letto, invece, quando la lettura di un settore dà un errore CRC. In questo caso, il settore nella stessa posizione relativa 	nei blocchi di dati rimanenti della stripe, insieme al blocco di parità, vengono usati per ricostruire il blocco mancante. In questo modo l'errore di CRC 	viene nascosto al computer chiamante. Nella stessa maniera, se un disco dovesse danneggiarsi all'interno del sistema, i blocchi di parità dei dischi rimanenti 	sono combinati matematicamente al volo con i blocchi dati rimasti per ricostruire i dati del disco guasto.

	Questa procedura viene chiamata di solito Interim Data Recovery Mode. Il computer principale non è messo al corrente che un disco si è danneggiato. Le letture 	e scritture verso il sistema di dischi avvengono tranquillamente come prima, sebbene con qualche calo di prestazioni.

	In un sistema RAID 5 che ha un solo blocco di parità per stripe, la rottura di un secondo disco comporta la perdita di tutti i dati presenti nel sistema.

	Il numero massimo di dischi è teoricamente illimitato, ma una pratica comune è di mantenere il numero massimo di dischi a 14 o meno per le implementazioni che 	hanno solo un blocco di parità per stripe. Le ragioni per questo limite sono che la probabilità che due dischi del sistema si rompano in successione cresce 	con il crescere del numero di dischi. Quando il numero di dischi in un sistema RAID-5 cresce, il MTBF del sistema nel suo complesso può persino diventare 	minore di quello di un singolo disco. Questo succede quando la probabilità che si rompa un secondo disco degli (N-1) rimanenti, tra il tempo di accorgersi, 	sostituire e ricreare il primo disco guasto, diventi maggiore della probabilità che un singolo disco si guasti.

	Bisogna ricordare che l'aggregazione di più dischi in spazi ridotti causa un aumentare della temperatura ed espone quest'ultimi a maggiori vibrazioni, 	influendo quindi sulla tolleranza agli errori, aumentando il rischio di failures e rischiando di ridurne il ciclo di vita. Inoltre, i dischi di uno stesso 	gruppo comprati nello stesso periodo potrebbero raggiungere la fine della loro vita insieme, abbassando in maniera significativa il MTBF del sistema. È buona 	norma, normalmente seguita dai produttori di server, inserire in RAID dischi identici ma provenienti da partite differenti, ovvero con numeri di serie e/o 	date e luogo di produzione distinti e lontani. È semplicemente falsa e - come abbiamo visto - anche controproducente l'affermazione, che spesso si trova in 	alcune aste online o su alcuni mercatini, che vorrebbe una coppia di dischi con numeri di serie contigui come perfettamente adatta all'utilizzo in RAID.

	Nelle implementazioni con più di 14 dischi, o in situazioni dove è necessaria grande ridondanza dei dati, viene usata spesso una implementazione RAID 5 con 	doppia parità (detta anche RAID 6), che riesce a gestire il guasto contemporaneo di due dischi.

    Vantaggi: la parità è distribuita e quindi non esiste il problema del disco collo di bottiglia come nel RAID 4, le scritture sono più veloci rispetto allo stesso 	RAID 4, perché il disco che nel RAID 4 è dedicato alla parità ora può essere utilizzato per le letture parallele.
    Svantaggi: scritture lente a causa della modifica e del calcolo della parità (4 accessi a disco per ogni operazione I/O).
	</p>

				<center> <h3> Raid 6 </h3>
	<p>Un sistema RAID 6 usa una divisione a livello di blocchi con i dati di parità distribuiti due volte tra tutti i dischi. Non era presente tra i livelli RAID 	originari.

	Nel RAID-6, il blocco di parità viene generato e distribuito tra due stripe di parità, su due dischi separati, usando differenti stripe di parità nelle due 		direzioni.

	Il RAID-6 è più ridondante del RAID-5, ma è molto inefficiente quando viene usato in un numero limitato di dischi. Vedi la doppia parità, spiegata di seguito, 	per una implementazione ancora più ridondante.

	Vantaggi:

    	Altissima fault tolerance grazie alla doppia ridondanza.

	Svantaggi:

    	Write molto lente a causa della modifica e del calcolo della parità (6 accessi a disco per ogni operazione I/O), necessari N+2 dischi, molto costoso 		economicamente a causa della ridondanza e della complessità del controller della struttura.
    	Problema del Write Hole. Le write sui diversi dispositivi non sono atomiche nell'insieme: questo vuol dire che la mancanza di alimentazione durante una 		scrittura può portare alla perdita di dati. Ad esempio, con un sistema con 3 dischi in raid 5, se si volesse modificare il blocco n si dovrebbero fare queste 		operazioni: lettura del blocco n-1, lettura della parità, calcolo della nuova parità, scrittura del blocco n, e scrittura della parità. Il problema si ha nel 		caso in cui venga a mancare l'alimentazione durante queste due ultime operazioni. </p>

		
	</body>
</html>
